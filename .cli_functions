# creates a directory and cd-s into it right after
makeDirectoryAndGoThere() {
	mkdir $1 && cd $_
}
# checks if a certain URL is not registered as a .com adress
checkIfUrlIsAvailable() {
	whois $1 | egrep -i "no match"
}

# fixes permissions in webdev directory
fixperms() {
	sudo chown -R stefan:www-data $1;
	sudo find $1 -type d -exec chmod 775 {} +;
	sudo find $1 -type f -exec chmod 664 {} +;
}

# prefixes a file with a prefix
prefix_file() {
	if [ -z "$2" ]
	then 
		prefix="_"
	else
		prefix=$2
	fi
	mv $1 $prefix$1
}

# make all file in directory lowercase
lowercase_files() {
	find $1 -maxdepth 1 -mindepth 1 -exec rename 's/(.*)\/([^\/]*)/$1\/\L$2/' {} \;
}

create_utf8_database() {
	echo "create database $1 character set utf8 collate utf8_general_ci" > /tmp/createdb.sql
	mysql -u root --password < /tmp/createdb.sql && echo "database $1 created!"
	rm /tmp/createdb.sql
}

download_latest_wordpress() {
	cd /tmp
	curl -O https://wordpress.org/latest.tar.gz
	tar -xzf latest.tar.gz
	rm /tmp/latest.tar.gz
	if [ -z "$1" ]
	then 
		echo "Downloaded and extracted to /tmp/wordpress"
	else
		mv /tmp/wordpress "$1" && echo "Downloaded and extracted to "$1
	fi
	cd -
}

# open something in background
open_in_background() {
	xdg-open $1 2>/dev/null &
}

find_files_and_folders() {
	find . -name "*$1*" 2>/dev/null
}
